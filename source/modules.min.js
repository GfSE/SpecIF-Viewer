function ModuleManager(){function n(a){if(-1<e.registered.indexOf(a))return!1;e.registered.push(a);return!0}function l(a,b){function g(a){if(a.name==b||a.view==b||a.children&&(a=l(a.children,b)))return a}var m=null;if(Array.isArray(a))for(var c=a.length-1;!m&&-1<c;c--)m=g(a[c]);else m=g(a);return m}function k(a,b){function c(a){if("string"==typeof a)h(a);else{if(a.view&&a.parent){var b=a.viewClass?'class="'+a.viewClass+'" ':"";b='<div id="'+a.view.substring(1)+'" '+b+' style="display:none;"></div>';
$(a.parent.view).append(b)}a.name&&!a.lazy&&h(a.name);if(a.children){if(a.selector){a.viewCtl=new p;if(1>$(a.selector).length){b="";switch(a.selectorType){case "btns":b='<div id="'+a.selector.substring(1)+'" class="btn-group btn-group-md" ></div>';break;default:b='<ul id="'+a.selector.substring(1)+'" role="tablist" class="nav nav-tabs"></ul>'}$(a.view).append(b)}var c=null,g=null;a.children.forEach(function(b){if(b.view){if(!b.selectedBy){console.error("Module '"+b.name+"' must have both properties 'view' and 'selectedBy' or none.");
return}a.viewCtl.add(b);c=b.selectedBy.substring(1);g=b.label||c;switch(a.selectorType){case "btns":$(a.selector).append('<button id="'+c+'" type="button" class="btn btn-default" onclick="modules.show(\''+b.view+"')\" >"+g+"</button>");break;default:$(a.selector).append('<li id="'+c+'" onclick="modules.show(\''+b.view+"')\"><a>"+g+"</a></li>")}}if(b.action)if(b.selectedBy)switch(c=b.selectedBy.substring(1),g=b.label||c,a.selectorType){case "btns":$(a.selector).append('<button id="'+c+'" type="button" class="btn btn-default" onclick="'+
b.action+'" >'+g+"</button>");break;default:console.error("Action'"+g+"' needs a parent selector of type 'btns'.")}else console.error("Module '"+b.name+"' must have both properties 'action' and 'selectedBy' or none.")})}a.children.forEach(function(b){b.parent=a;k(b)})}}}b&&"function"==typeof b.done&&(q=b.done);Array.isArray(a)?a.forEach(function(a){c(a)}):c(a)}function h(a){if(n(a))switch(a){case "bootstrap":return $("head").append('<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" />'),
$("head").append('<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap-theme.min.css" />'),c("https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js").done(function(){d(a)}),!0;case "bootstrapDialog":return $("head").append('<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap3-dialog/1.35.4/css/bootstrap-dialog.min.css" />'),c("https://cdnjs.cloudflare.com/ajax/libs/bootstrap3-dialog/1.35.4/js/bootstrap-dialog.min.js").done(function(){d(a)}),
!0;case "tree":return $("head").append('<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/jqtree/1.4.10/jqtree.css" />'),c("https://cdnjs.cloudflare.com/ajax/libs/jqtree/1.4.11/tree.jquery.js").done(function(){d(a)}),!0;case "diff":return c("https://cdnjs.cloudflare.com/ajax/libs/diff_match_patch/20121119/diff_match_patch.js").done(function(){d(a)}),!0;case "fileSaver":return c("https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/1.3.8/FileSaver.min.js").done(function(){d(a)}),
!0;case "zip":return c("https://cdnjs.cloudflare.com/ajax/libs/jszip/3.2.2/jszip.min.js").done(function(){d(a)}),!0;case "excel":return h("zip"),c("https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.15.1/xlsx.full.min.js").done(function(){d(a)}),!0;case "schemaJson":return c("https://cdnjs.cloudflare.com/ajax/libs/ajv/4.11.8/ajv.min.js").done(function(){d(a)}),!0;case "bpmnViewer":return c("https://unpkg.com/bpmn-js@5.0.5/dist/bpmn-viewer.production.min.js").done(function(){d(a)}),!0;case "graphViz":return c("https://cdnjs.cloudflare.com/ajax/libs/vis/4.20.1/vis-network.min.js").done(function(){d(a)}),
!0;case "toXhtml":return c(f+"/js/toXhtml.js").done(function(){d(a)}),!0;case "toEpub":return h("zip"),h("toXhtml"),c(f+"/js/toEpub.js").done(function(){d(a)}),!0;case "toOxml":return c(f+"/js/toOxml.js").done(function(){d(a)}),!0;case "config":return $.getScript(f+"/config.js",function(){d(a)}),!0;case "i18n":var b=null;switch(browser.language){case "de":b=f+"/i18n/iLaH-de.i18n.js";break;case "fr":b=f+"/i18n/iLaH-fr.i18n.js";break;default:b=f+"/i18n/iLaH-en.i18n.js"}c(b).done(function(){d(a)});return!0;
case "helper":return c(f+"/js/helper.js").done(function(){d(a)}),!0;case "helperTree":return c(f+"/js/helperTree.js").done(function(){d(a)}),!0;case "cache":return h("fileSaver"),c(f+"/js/cache.mod.js"),!0;case "stdTypes":return c(f+"/js/stdTypes.js").done(function(){d(a)}),!0;case "mainCSS":return $("head").append('<link rel="stylesheet" type="text/css" href="'+f+'/css/SpecIF.default.css" />'),d(a),!0;case "profileAnonymous":return c(f+"/js/profileAnonymous.mod.js"),!0;case "importAny":return h("zip"),
c(f+"/js/importAny.mod.js"),!0;case "ioSpecif":return h("schemaJson"),h("checkSpecif"),c(f+"/js/ioSpecif.mod.js"),!0;case "ioReqif":return c(f+"/js/ioReqif.mod.js"),!0;case "ioXls":return h("stdTypes"),h("excel"),c(f+"/js/ioXls.mod.js"),!0;case "bpmn2specif":return c(f+"/js/BPMN2SpecIF.js").done(function(){d(a)}),!0;case "ioBpmn":return h("bpmn2specif"),h("bpmnViewer"),c(f+"/js/ioBpmn.mod.js"),!0;case "checkSpecif":return c("./specif.de/v0.10.8/check.js").done(function(){d(a)}),!0;case CONFIG.specifications:return browser.isIE&&
$("head").append('<style type="text/css" >div.forImage img[type="image/svg+xml"],div.forImagePreview img[type="image/svg+xml"],div.forImage object[type="image/svg+xml"],div.forImagePreview object[type="image/svg+xml"] { width: 100%; height: auto; }</style>'),c(f+"/js/specifications.mod.js"),!0;case CONFIG.reports:return c(f+"/js/reports.mod.js"),!0;case "statementsGraph":return h("graphViz"),c(f+"/js/graph.js").done(function(){d(a)}),!0;case CONFIG.objectFilter:return c(f+"/js/filter.mod.js"),!0;
default:console.warn("Module loader: Module '"+a+"' is unknown.")}return!1}function d(a){if(0>e.ready.indexOf(a))e.ready.push(a),console.info(a+" loaded ("+e.ready.length+"/"+e.registered.length+")");else return console.error("Module '"+a+"' is set 'ready' more than once"),null;if(e.registered.length===e.ready.length){console.info("All "+e.ready.length+" modules loaded --\x3e ready!");try{return q()}catch(b){return!1}}}function c(a,b){b=$.extend(b||{},{dataType:"script",cache:!0,url:a});return $.ajax(b)}
function p(a){var b=this;b.selected={};b.list=null;b.exists=function(a){return-1<indexBy(b.list,"view",a)};b.init=function(a){b.list=a||[];b.list.forEach(function(a){$(a).hide()});b.selected={}};b.add=function(a){b.list.push(a);$(a.view).hide()};b.show=function(a){switch(typeof a){case "undefined":return null;case "string":a={newView:a}}var c,d;b.list.forEach(function(g){c=$(g.view);d=$(g.selectedBy);a.newView==g.view?(b.selected=g,d.addClass("active"),c.show(),"string"==typeof a.content?c.html(a.content):
"function"==typeof g.show&&(a.forced=!0,g.show(a))):(d.removeClass("active"),c.hide(),"function"==typeof g.hide&&g.hide())})};b.hide=function(a){"string"==typeof a&&b.exists(a)?$(a).hide():b.selected&&($(b.selected.view).hide(),$(b.selected.selectedBy).removeClass("active"),b.selected=null)};b.init(a);return b}var e=this,q=null,f;e.init=function(a){f="./"+app.productVersion;e.registered=[];e.ready=[];browser=new function(){this.supportsHtml5History=!(!window.history||!window.history.pushState);this.supportsFileAPI=
!!(window.File&&window.FileReader&&window.FileList&&window.Blob);this.supportsCORS=$.support.cors;this.displaysObjects=this.supportsHtml5Storage;this.isIE=/MSIE /i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent);this.language=navigator.language||navigator.userLanguage;console.info("Browser Language is '"+this.language+"'.");this.supportsHtml5History&&console.info("Browser supports HTML5 History");this.supportsCORS&&console.info("Browser supports CORS");return this};k(["config","bootstrap",
"i18n"],{done:function(){k(["helper","helperTree","tree","bootstrapDialog","mainCSS"],a)}})};e.load=function(a,b){e.tree=a;return k(a,b)};e.construct=function(a,b){var c=l(e.tree,a.name||a.view);if(!c)return console.error(a.name?"'"+a.name+"' is not a defined module name":"'"+a.view+"' is not a defined view"),null;$.extend(c,a);c.loadAs||(c.loadAs=c.name||c.view.substring(1));b(c);app[c.loadAs]=c;"function"==typeof c.init&&c.init();a.name&&-1<e.registered.indexOf(a.name)&&d(a.name)};e.show=function(a){function b(a,
c){if(a.parent.selectedBy){var d=simpleClone(c);d.newView=a.parent.view;b(a.parent,d)}a.parent.viewCtl.show(c)}function c(a,b){if(a.viewCtl&&0<a.viewCtl.list.length){a:{var d=a.viewCtl.list;for(var e=d.length-1;-1<e;e--)if(d[e].isDefault){d=d[e];break a}d=d[0]}e=simpleClone(b);e.newView=d.view;a.viewCtl.show(e);c(d,b)}}switch(typeof a){case "undefined":return null;case "string":a={newView:a}}var d=l(e.tree,a.newView);d&&d.parent.viewCtl?(b(d,a),c(d,a)):console.error("'"+a.newView+"' is not a defined view")};
e.hide=function(){e.tree.viewCtl.hide()};e.isReady=function(a){return-1<e.ready.indexOf(a)};return e}
function State(n){var l=this,k=n||{},h=!1;Array.isArray(k.showWhenSet)||(k.showWhenSet=[]);Array.isArray(k.hideWhenSet)||(k.hideWhenSet=[]);l.set=function(d){switch(d){case !1:l.reset();break;case void 0:case !0:h=!0,k.hideWhenSet.forEach(function(c){try{$(c).hide()}catch(p){}}),k.showWhenSet.forEach(function(c){try{$(c).show()}catch(p){}})}};l.reset=function(){h=!1;k.showWhenSet.forEach(function(d){try{$(d).hide()}catch(c){}});k.hideWhenSet.forEach(function(d){try{$(d).show()}catch(c){}})};l.get=
function(){return h};l.reset();return l}var browser=null,modules=new ModuleManager;